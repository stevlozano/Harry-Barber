<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harry Barber - Reservas</title>
    <link rel="stylesheet" href="style.css">
    <!-- Using a generic font for now, ideally would link Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
</head>

<body>

    <div class="main-wrapper">
        <!-- Navbar -->
        <nav class="navbar">
            <img class="logo-navbar" src="/images/logo/logo.png" alt="Harry Barber Logo">
            <button class="btn-modal" onclick="modal.showModal()">=</button>
        </nav>

        <!-- Modal Menu -->
        <dialog class="modal-dialog-content" id="modal">
            <button class="btn-close" onclick="modal.close()">
                <span class="material-symbols-outlined">chevron_right</span>
            </button>
            <h3 class="title-modal">Opciones</h3>
            <a href="/pages/tipos-corte/tipos-corte.html" class="option">Cortes</a>
            <a href="/pages/historial/story.html" class="option">Historial</a>
            <a href="/pages/promociones/promociones.html" class="option">Promociones</a>
            <a href="/pages/calender/calender.html" class="option">Calendario</a>
        </dialog>

        <!-- Welcome Title -->
        <h1 class="welcome-title">Bienvenido</h1>

        <!-- Calendar Section -->
        <section class="calendar-section">
            <div class="calendar-header">
                <h2 id="monthYearDisplay">Noviembre de 2025</h2>
                <div class="month-nav">
                    <button class="nav-btn">&lt;</button>
                    <button class="current-btn">Hoy</button>
                    <button class="nav-btn">&gt;</button>
                </div>
            </div>

            <div class="calendar-grid" id="calendarGrid">
                <!-- Grid generated by JS -->
            </div>
        </section>

        <!-- Reservations Section -->
        <section class="reservations-section">
            <h2 class="section-title">Reservas</h2>

            <div class="filters-wrapper">
                <button class="glass-btn" id="scrollLeft">&lt;</button>
                <div class="filter-pills" id="filterContainer">
                    <button class="pill active">Todas</button>
                    <button class="pill">Por Año</button>
                    <button class="pill">Por Mes</button>
                    <button class="pill">Por Semanas</button>
                    <button class="pill">Por Día</button>
                    <!-- Extra filters to demonstrate carousel scroll -->
                    <!-- <button class="pill">Pendientes</button>
                    <button class="pill">Confirmadas</button>
                    <button class="pill">Canceladas</button>
                    <button class="pill">Historial</button> -->
                </div>
                <button class="glass-btn" id="scrollRight">&gt;</button>
            </div>

            <!-- Dynamic Reservations List -->
            <div id="reservationsList">
                <!-- Reservations will be rendered here by JavaScript -->
            </div>
        </section>
    </div>

    <!-- Modern Booking Modal -->
    <div id="bookingModal" class="modal-overlay">
        <div class="modal-content">
            <div id="closeModal" class="close-modal">&times;</div>
            <h2 class="modal-title">Nueva Reserva</h2>

            <form id="bookingForm" class="form-grid">
                <!-- Date & Time Row -->
                <div style="display: flex; gap: 15px;">
                    <div class="form-group" style="flex: 1;">
                        <label class="form-label">Fecha</label>
                        <input type="text" id="dateInput" class="form-input readonly" readonly>
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <label class="form-label">Hora</label>
                        <select id="timeInput" class="form-select" required>
                            <option value="" disabled selected>Elegir hora</option>
                            <option value="09:00">09:00 AM</option>
                            <option value="10:00">10:00 AM</option>
                            <option value="11:00">11:00 AM</option>
                            <option value="12:00">12:00 PM</option>
                            <option value="13:00">01:00 PM</option>
                            <option value="14:00">02:00 PM</option>
                            <option value="15:00">03:00 PM</option>
                            <option value="16:00">04:00 PM</option>
                            <option value="17:00">05:00 PM</option>
                            <option value="18:00">06:00 PM</option>
                            <option value="19:00">07:00 PM</option>
                            <option value="20:00">08:00 PM</option>
                        </select>
                    </div>
                </div>

                <!-- Personal Info -->
                <div class="form-group">
                    <label class="form-label">Nombre Completo</label>
                    <input type="text" id="nameInput" class="form-input" placeholder="Ej: Juan Pérez" required>
                </div>

                <div class="form-group">
                    <label class="form-label">WhatsApp</label>
                    <input type="tel" id="whatsappInput" class="form-input" placeholder="Ej: 999 888 777" required>
                </div>

                <!-- Service Details -->
                <div class="form-group">
                    <label class="form-label">Tipo de Corte</label>
                    <select id="cutTypeInput" class="form-select" required>
                        <option value="" disabled selected>Seleccionar servicio</option>
                        <option value="clasico">Corte Clásico</option>
                        <option value="degradado">Degradado / Fade</option>
                        <option value="barba">Diseño de Barba</option>
                        <option value="completo">Corte + Barba</option>
                        <option value="premium">Servicio Premium</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Método de Pago</label>
                    <select id="paymentInput" class="form-select" required>
                        <option value="" disabled selected>Seleccionar pago</option>
                        <option value="yape">Yape</option>
                        <option value="plin">Plin</option>
                        <option value="efectivo">Efectivo</option>
                        <option value="tarjeta">Tarjeta</option>
                    </select>
                </div>

                <!-- Actions -->
                <div class="form-actions">
                    <button type="button" id="cancelBtn" class="btn-cancel">Cancelar</button>
                    <button type="submit" class="btn-submit">Confirmar Reserva</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Details Modal -->
    <div id="detailsModal" class="modal-overlay">
        <div class="details-modal-content">
            <div id="closeDetailsModal" class="close-modal">&times;</div>
            <h2 class="modal-title">Detalles de Reserva</h2>

            <div class="details-grid">
                <div class="detail-item">
                    <div class="detail-label">Cliente</div>
                    <div class="detail-value" id="detail-nombre">-</div>
                </div>

                <div class="detail-item">
                    <div class="detail-label">Fecha</div>
                    <div class="detail-value" id="detail-fecha">-</div>
                </div>

                <div class="detail-item">
                    <div class="detail-label">Hora</div>
                    <div class="detail-value" id="detail-hora">-</div>
                </div>

                <div class="detail-item">
                    <div class="detail-label">Servicio</div>
                    <div class="detail-value" id="detail-corte">-</div>
                </div>

                <div class="detail-item">
                    <div class="detail-label">Método de Pago</div>
                    <div class="detail-value" id="detail-pago">-</div>
                </div>

                <div class="detail-item">
                    <div class="detail-label">WhatsApp</div>
                    <div class="detail-value" id="detail-whatsapp">-</div>
                </div>
            </div>

            <div class="details-actions">
                <button class="btn-close-details" onclick="closeDetailsModal()">Cerrar</button>
            </div>
        </div>
    </div>

    <script src="../../js/data-sync.js"></script>
    <script src="script.js"></script>
</body>

</html>