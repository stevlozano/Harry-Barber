<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tipos de Corte - Harry Barber</title>
    <link rel="stylesheet" href="/pages/tipos-corte/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<body>
        <nav class="navbar">
        <img class="logo-navbar" src="/images/logo/logo.png" alt="Harry Barber Logo">
        <button class="btn-modal" onclick="modal.showModal()">=</button>
    </nav>

    <!-- Modal Menu -->
    <dialog class="modal-dialog-content" id="modal">
        <button class="btn-close" onclick="modal.close()">
            <span class="material-symbols-outlined">chevron_right</span>
        </button>
        <h3 class="title-modal">Opciones</h3>
        <a href="/pages/tipos-corte/tipos-corte.html" class="option">Cortes</a>
        <a href="/pages/historial/story.html" class="option">Historial</a>
        <a href="/pages/promociones/promociones.html" class="option">Promociones</a>
        <a href="/pages/calender/calender.html" class="option">Calendario</a>
    </dialog>
    <div class="main-wrapper">
        

        <!-- Page Header -->
        <h1 class="welcome-title">Tipos de Corte</h1>
        <p class="page-subtitle">Explora nuestros estilos exclusivos y elige el tuyo</p>

        <!-- Haircuts Section -->
        <section class="haircuts-section">
            <div class="haircuts-container" id="haircutsContainer">
                <!-- Haircut types will be loaded here -->
            </div>
        </section>
    </div>

    <!-- Booking Modal -->
    <div class="modal" id="bookingModal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <h2>Reservar Corte</h2>
            <form id="bookingForm">
                <div class="form-group">
                    <label for="date">Fecha:</label>
                    <input type="text" id="date" readonly>
                </div>
                <div class="form-group">
                    <label for="time">Hora:</label>
                    <select id="time" required>
                        <option value="">Selecciona una hora</option>
                        <option value="09:00">09:00 AM</option>
                        <option value="10:00">10:00 AM</option>
                        <option value="11:00">11:00 AM</option>
                        <option value="12:00">12:00 PM</option>
                        <option value="14:00">02:00 PM</option>
                        <option value="15:00">03:00 PM</option>
                        <option value="16:00">04:00 PM</option>
                        <option value="17:00">05:00 PM</option>
                        <option value="18:00">06:00 PM</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="name">Nombre:</label>
                    <input type="text" id="name" required placeholder="Tu nombre completo">
                </div>
                <div class="form-group">
                    <label for="phone">Teléfono:</label>
                    <input type="tel" id="phone" required placeholder="Número de teléfono">
                </div>
                <div class="form-group">
                    <label for="haircutType">Tipo de Corte:</label>
                    <select id="haircutType" required>
                        <option value="">Selecciona un tipo de corte</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="notes">Notas (Opcional):</label>
                    <textarea id="notes" placeholder="Alguna preferencia especial"></textarea>
                </div>
                <button type="submit" class="submit-btn">Confirmar Reserva</button>
            </form>
        </div>
    </div>

    <!-- Barber Panel Modal (Hidden for regular users, accessible via code/script if needed) -->
    <div class="modal" id="barberPanel">
        <div class="modal-content panel-large">
            <span class="close" id="closeBarberPanel">&times;</span>
            <h2>Panel del Barbero</h2>
            <div class="panel-tabs">
                <button class="tab-btn active" data-tab="promotions">Promociones</button>
                <button class="tab-btn" data-tab="haircuts">Tipos de Corte</button>
                <button class="tab-btn" data-tab="schedule">Horario</button>
            </div>

            <div class="panel-content">
                <!-- Promotions Tab -->
                <div class="tab-pane active" id="promotionsTab">
                    <h3>Promociones Semanales</h3>
                    <form id="promotionForm">
                        <div class="form-group">
                            <label for="promoName">Nombre de la Promoción:</label>
                            <input type="text" id="promoName" required>
                        </div>
                        <div class="form-group">
                            <label for="promoDescription">Descripción:</label>
                            <textarea id="promoDescription" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="promoDiscount">Descuento (%):</label>
                            <input type="number" id="promoDiscount" min="0" max="100" required>
                        </div>
                        <button type="submit" class="submit-btn">Agregar Promoción</button>
                    </form>
                    <div class="promotions-list" id="promotionsList"></div>
                </div>

                <!-- Haircuts Tab -->
                <div class="tab-pane" id="haircutsTab">
                    <h3>Tipos de Corte</h3>
                    <form id="haircutForm">
                        <div class="form-group">
                            <label for="haircutName">Nombre del Corte:</label>
                            <input type="text" id="haircutName" required>
                        </div>
                        <div class="form-group">
                            <label for="haircutPrice">Precio (€):</label>
                            <input type="number" id="haircutPrice" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="haircutDescription">Descripción:</label>
                            <textarea id="haircutDescription" required></textarea>
                        </div>
                        <button type="submit" class="submit-btn">Agregar Corte</button>
                    </form>
                    <div class="haircuts-list" id="haircutsList"></div>
                </div>

                <!-- Schedule Tab -->
                <div class="tab-pane" id="scheduleTab">
                    <h3>Horario del Barbero</h3>
                    <form id="scheduleForm">
                        <div class="form-group">
                            <label for="barberCode">Código de Acceso:</label>
                            <input type="password" id="barberCode" required>
                        </div>
                        <div class="form-group">
                            <label for="startTime">Hora de Inicio:</label>
                            <input type="time" id="startTime" required>
                        </div>
                        <div class="form-group">
                            <label for="endTime">Hora de Finalización:</label>
                            <input type="time" id="endTime" required>
                        </div>
                        <div class="form-group">
                            <label>Días de la Semana:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" name="days" value="0"> Lunes</label>
                                <label><input type="checkbox" name="days" value="1"> Martes</label>
                                <label><input type="checkbox" name="days" value="2"> Miércoles</label>
                                <label><input type="checkbox" name="days" value="3"> Jueves</label>
                                <label><input type="checkbox" name="days" value="4"> Viernes</label>
                                <label><input type="checkbox" name="days" value="5"> Sábado</label>
                                <label><input type="checkbox" name="days" value="6"> Domingo</label>
                            </div>
                        </div>
                        <button type="submit" class="submit-btn">Actualizar Horario</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    
    <script src="../../js/main.js"></script>
    <script src="../../js/booking.js"></script>
    <script src="../../js/encryption.js"></script>
    <script src="../../js/data-sync.js"></script>
    <script src="../../js/firebase-config.js"></script>
    <script src="../../js/barber-panel.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            loadHaircutTypesForPage();
        });

        function loadHaircutTypesForPage() {
            const haircutTypes = JSON.parse(localStorage.getItem('haircutTypes') || '[]');
            const haircutsContainer = document.getElementById('haircutsContainer');

            if (haircutTypes.length === 0) {
                haircutsContainer.innerHTML = '<p style="color: white; text-align: center; width: 100%;">No hay tipos de corte disponibles actualmente.</p>';
                return;
            }

            haircutsContainer.innerHTML = '';

            haircutTypes.forEach(type => {
                const haircutElement = document.createElement('div');
                haircutElement.className = 'haircut-item';
                haircutElement.innerHTML = `
                    <img src="${type.image || '/assets/images/placeholder.jpg'}" class="haircut-img" alt="${type.name}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 15px; margin-bottom: 20px;">
                    <div class="haircut-info">
                        <h3>${type.name}</h3>
                        <p>${type.description}</p>
                    </div>
                    <div class="price">
                        <span>Desde <strong>S/ ${type.price.toFixed(2)}</strong></span>
                        <button class="btn-book-corte" onclick="window.location.href='/pages/calender/calender.html'">Reservar</button>
                    </div>
                `;
                haircutsContainer.appendChild(haircutElement);
            });
        }
    </script>
</body>

</html>